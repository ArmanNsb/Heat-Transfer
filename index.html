<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Definitive Interactive Dashboard: Internal Convection (Ch. 8)</title>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0d1117;
            --bg-section: #161b22;
            --border-color: #30363d;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-cyan: #39c5cf;
            --accent-magenta: #ff7b72;
            --accent-orange: #f0883e;
            --font-main: 'Exo 2', sans-serif;
            --font-code: 'Share Tech Mono', monospace;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            margin: 0;
            padding: 40px 20px;
        }

        .roadmap-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 50px;
        }

        header h1 {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        header h1 span {
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            font-size: 1.2em;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto;
        }

        .roadmap-section {
            background: var(--bg-section);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            transition: all 0.3s ease-in-out;
        }

        .roadmap-section:hover {
            border-color: var(--accent-blue);
        }

        .summary-view {
            padding: 25px 30px;
            cursor: pointer;
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 20px;
        }
        
        .summary-view h2 {
            margin: 0;
            font-size: 1.6em;
            font-weight: 500;
            color: var(--text-primary);
            grid-column: 1 / 3;
        }
        
        .summary-view .section-tag {
            font-family: var(--font-code);
            font-size: 1.1em;
            color: var(--accent-orange);
            grid-column: 1 / 1;
            grid-row: 1 / 1;
            margin-top: -35px; /* Position it nicely */
        }

        .summary-view p {
            margin: 5px 0 0 0;
            color: var(--text-secondary);
            grid-column: 1 / 3;
        }
        
        .key-formulas {
            margin-top: 15px;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 6px;
            font-family: var(--font-code);
            font-size: 1em;
            color: var(--accent-cyan);
            border-left: 3px solid var(--accent-cyan);
            grid-column: 1 / 3;
            white-space: pre-wrap;
        }

        .toggle-button {
            grid-column: 3 / 4;
            grid-row: 1 / 5; /* Span all rows of summary */
            justify-self: end;
            background: none;
            border: 2px solid var(--border-color);
            color: var(--text-secondary);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toggle-button:hover {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
            transform: scale(1.1);
        }

        .detailed-view {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.7s ease-in-out, opacity 0.5s ease-in-out, padding 0.7s ease-in-out;
            padding: 0 30px;
        }
        
        .roadmap-section.expanded .detailed-view {
            max-height: 2000px; /* Large enough for content */
            opacity: 1;
            padding: 20px 30px 30px 30px;
            border-top: 1px solid var(--border-color);
        }
        
        .roadmap-section.expanded .toggle-button {
            transform: rotate(45deg);
            border-color: var(--accent-magenta);
            color: var(--accent-magenta);
        }

        /* Styles for nodes inside detailed-view */
        .detailed-view .node {
            background: rgba(0,0,0,0.2);
            border: 1px solid transparent;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 20px;
        }
        .detailed-view .node-header {
            display: flex; align-items: center; gap: 15px;
            margin-bottom: 15px; border-bottom: 1px solid var(--border-color); padding-bottom: 10px;
        }
        .detailed-view .node-header h3 { font-size: 1.3em; margin: 0; }
        .detailed-view .formula {
            background-color: rgba(0, 0, 0, 0.4); padding: 10px; border-radius: 6px;
            font-family: var(--font-code); color: var(--accent-cyan); border-left: 2px solid var(--accent-cyan); margin-top: 10px;
        }
        .detailed-view .insight { color: var(--text-secondary); font-style: italic; border-left: 2px solid var(--border-color); padding-left: 10px; margin-top: 10px; font-size: 0.9em; }
        .detailed-view .rule { color: var(--accent-orange); font-weight: 600; }
        .detailed-view .key-concept { color: var(--accent-blue); }

        .critical-decision-node {
            border: 1px solid var(--accent-orange);
            border-style: dashed;
        }

    </style>
</head>
<body>

<div class="roadmap-container">
    <header>
        <h1>Interactive Dashboard: <span>Internal Convection</span></h1>
        <p>A comprehensive, interactive guide to Chapter 8, built directly from the provided text. Click any section to explore its detailed analysis.</p>
    </header>

    <!-- Section 1: Foundations -->
    <section class="roadmap-section" id="sec-8-1_8-2">
        <div class="summary-view">
            <span class="section-tag">8-1 & 8-2</span>
            <h2>Foundations: Core Concepts & The Engineer's Toolkit</h2>
            <p>Setting the stage with fundamental principles, definitions, and the essential tools for analyzing any internal flow problem.</p>
            <div class="key-formulas">Re = (ρVD)/μ  |  D_h = 4A_c/p  |  ṁ = ρ⋅V_avg⋅A_c</div>
            <button class="toggle-button" aria-expanded="false" aria-controls="details-1">+</button>
        </div>
        <div class="detailed-view" id="details-1">
            <div class="node">
                <div class="node-header"><h3>Why Pipes are Round</h3></div>
                <ul>
                    <li><b class="key-concept">Strength:</b> A circular shape perfectly distributes internal pressure stress, making it the strongest and safest option for containing pressurized fluids.</li>
                    <li><b class="key-concept">Efficiency:</b> For a given area, a circle has the smallest perimeter. Less perimeter means less wall friction, less pressure drop, and lower pumping energy costs over the plant's lifetime.</li>
                </ul>
            </div>
            <div class="node">
                <div class="node-header"><h3>Fundamental Flow Concepts</h3></div>
                <ul>
                    <li><b>No-Slip Condition:</b> Fluid velocity is zero at the pipe wall.</li>
                    <li><b>Average Velocity (V<sub>avg</sub>):</b> The single, practical velocity value used in calculations that represents the entire flow, as if it were moving at a uniform speed.</li>
                    <li><b>Mean Temperature (T<sub>m</sub>):</b> The "energy-weighted" average temperature that represents the total thermal energy of the fluid flowing past a point.</li>
                    <li><b class="rule">Key Difference:</b> V<sub>avg</sub> is constant for incompressible flow, but T<sub>m</sub> changes as heat is transferred.</li>
                </ul>
            </div>
             <div class="node critical-decision-node">
                <div class="node-header"><h3>CRITICAL TOOL: The Reynolds Number (Re)</h3></div>
                <p>The engineer's "crystal ball." A dimensionless number representing the ratio of inertial forces to viscous forces. It predicts the flow regime.</p>
                <div class="formula">Re = (ρ ⋅ V_avg ⋅ D) / μ</div>
                <ul>
                    <li>Re < 2300: <b class="key-concept">Laminar Flow</b> (smooth, orderly, predictable)</li>
                    <li>2300 < Re < 4000: <b class="key-concept">Transitional Flow</b> (unstable, avoid in design)</li>
                    <li>Re > 4000: <b class="key-concept">Turbulent Flow</b> (chaotic, excellent mixing)</li>
                </ul>
            </div>
            <div class="node">
                <div class="node-header"><h3>The "One Size Fits All" Tool: Hydraulic Diameter (D<sub>h</sub>)</h3></div>
                <p>An "effective" diameter that allows us to use standard circular pipe equations for non-circular conduits (ducts, annuli).</p>
                <div class="formula">D_h = 4 * (Cross-Sectional Area) / (Wetted Perimeter)</div>
            </div>
        </div>
    </section>

    <!-- Section 2: Entrance Region -->
    <section class="roadmap-section" id="sec-8-3">
        <div class="summary-view">
            <span class="section-tag">8-3</span>
            <h2>Flow Development & The Entrance Region</h2>
            <p>Analyzing how fluid behavior evolves from the pipe inlet until it becomes stable or "fully developed".</p>
            <div class="key-formulas">Turbulent: L_h ≈ L_t ≈ 10D | Laminar: L_h ≈ 0.05⋅Re⋅D</div>
            <button class="toggle-button" aria-expanded="false" aria-controls="details-2">+</button>
        </div>
        <div class="detailed-view" id="details-2">
            <div class="node">
                <div class="node-header"><h3>Hydrodynamic & Thermal Adjustment</h3></div>
                <p>When fluid enters a pipe, velocity and thermal boundary layers form at the wall and grow inwards. The section where this growth occurs is the entrance region.</p>
                <p class="rule">Key Consequence: The friction factor (f) and heat transfer coefficient (h) are HIGHEST at the pipe inlet (x=0) and decrease to constant values in the fully developed region.</p>
                <p class="insight">This "entrance effect" is critical for short tubes (e.g., in compact heat exchangers), where the higher average 'h' allows for a smaller, cheaper design.</p>
            </div>
            <div class="node">
                <div class="node-header"><h3>The Prandtl Number (Pr)</h3></div>
                <p>A fluid property that compares the rate of momentum diffusion (velocity change) to thermal diffusion (temperature change).</p>
                <div class="formula">Pr = ν / α</div>
                <ul>
                    <li><b>Pr >> 1 (Oils):</b> Velocity profile develops faster than temperature profile (L<sub>h</sub> < L<sub>t</sub>).</li>
                    <li><b>Pr << 1 (Liquid Metals):</b> Temperature profile develops faster (L<sub>t</sub> < L<sub>h</sub>).</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Section 3: General Thermal Analysis -->
    <section class="roadmap-section" id="sec-8-4">
        <div class="summary-view">
            <span class="section-tag">8-4</span>
            <h2>General Thermal Analysis</h2>
            <p>The mathematical framework for calculating heat transfer, based on two idealized but practical scenarios for thermal boundary conditions.</p>
            <div class="key-formulas">Q̇ = ṁ⋅c_p⋅(T_e-T_i) | Q̇ = h⋅A_s⋅ΔT_lm</div>
            <button class="toggle-button" aria-expanded="false" aria-controls="details-3">+</button>
        </div>
        <div class="detailed-view" id="details-3">
            <div class="node">
                <div class="node-header"><h3>Case 1: Constant Surface Heat Flux (q"<sub>s</sub> = const)</h3></div>
                <p><b>Scenario:</b> Electric resistance heating, uniform radiation.</p>
                <p class="insight">Since energy is added at a constant rate, the fluid's mean temperature (T<sub>m</sub>) and the surface temperature (T<sub>s</sub>) increase <b class="key-concept">linearly</b> down the pipe.</p>
                <div class="formula">T_e = T_i + (q"_s ⋅ A_s) / (ṁ ⋅ c_p)</div>
            </div>
             <div class="node">
                <div class="node-header"><h3>Case 2: Constant Surface Temperature (T<sub>s</sub> = const)</h3></div>
                <p><b>Scenario:</b> Condensing steam on the outside of a pipe, phase change processes.</p>
                <p class="insight">The temperature difference (driving force) is largest at the inlet and decreases down the pipe. This results in an <b class="key-concept">exponential</b> fluid temperature rise.</p>
                <p class="rule">Because the temperature change is non-linear, we must use the Log Mean Temperature Difference (LMTD) for an accurate calculation.</p>
                <div class="formula">ΔT_lm = (ΔT_e - ΔT_i) / ln(ΔT_e / ΔT_i)</div>
            </div>
        </div>
    </section>

    <!-- Section 4: Laminar Flow -->
    <section class="roadmap-section" id="sec-8-5">
        <div class="summary-view">
            <span class="section-tag">8-5</span>
            <h2>Laminar Flow in Tubes (Re < 2300)</h2>
            <p>Detailed analysis of smooth, orderly flow, where analytical solutions for pressure drop and heat transfer are possible.</p>
            <div class="key-formulas">f = 64/Re | ΔP_L ∝ 1/D⁴ | Nu_fd = 3.66 or 4.36</div>
            <button class="toggle-button" aria-expanded="false" aria-controls="details-4">+</button>
        </div>
        <div class="detailed-view" id="details-4">
            <div class="node">
                <div class="node-header"><h3>Pressure Drop in Laminar Flow</h3></div>
                <p>Derived from a force balance between pressure and viscous forces. Results in a parabolic velocity profile.</p>
                <ul>
                    <li><b>Key Relationship:</b> u<sub>max</sub> = 2 ⋅ V<sub>avg</sub></li>
                    <li><b>Governing Equation (Hagen-Poiseuille):</b> <div class="formula">ΔP_L = (32 ⋅ μ ⋅ L ⋅ V_avg) / D²</div></li>
                </ul>
                <p class="rule">Design Implication: The D⁴ relationship in the flow rate version of this equation shows that doubling pipe diameter reduces pressure drop by a factor of 16 for the same flow rate, drastically saving pumping costs.</p>
            </div>
            <div class="node">
                <div class="node-header"><h3>Heat Transfer in Laminar Flow (Nusselt Number)</h3></div>
                <p>For <b class="key-concept">fully developed flow</b>, the Nusselt number is a constant, independent of Re and Pr.</p>
                <ul>
                    <li>For Constant Surface Heat Flux: <b class="rule">Nu = 4.36</b></li>
                    <li>For Constant Surface Temperature: <b class="rule">Nu = 3.66</b></li>
                </ul>
                <p>For <b class="key-concept">developing flow in the entrance region</b>, Nu is much higher. Use correlations that include the Graetz Number (Gz) and a viscosity correction:</p>
                <div class="formula">Sieder-Tate Eq: Nu = 1.86 ⋅ (Gz)^(1/3) ⋅ (μ_b / μ_s)^0.14</div>
            </div>
        </div>
    </section>

    <!-- Section 5: Turbulent Flow -->
    <section class="roadmap-section" id="sec-8-6">
        <div class="summary-view">
            <span class="section-tag">8-6+</span>
            <h2>Turbulent Flow & Real-World Considerations</h2>
            <p>Analysis of chaotic, well-mixed flow common in industry. Relies on empirical correlations and considers real-world effects like roughness.</p>
            <div class="key-formulas">Colebrook Eq: f = func(Re, ε/D) | Dittus-Boelter: Nu = 0.023⋅Re^0.8⋅Pr^n</div>
            <button class="toggle-button" aria-expanded="false" aria-controls="details-5">+</button>
        </div>
        <div class="detailed-view" id="details-5">
            <div class="node">
                <div class="node-header"><h3>Heat Transfer in Turbulent Flow</h3></div>
                <p>Chaotic eddies provide a powerful mechanism for transferring heat, making 'h' much larger than in laminar flow. The Chilton-Colburn analogy links friction and heat transfer.</p>
                <ul>
                    <li><b>For Quick Analysis (Dittus-Boelter):</b> A simple, common correlation. <div class="formula">Nu = 0.023 ⋅ Re^0.8 ⋅ Pr^n</div> (n=0.4 for heating, 0.3 for cooling)</li>
                    <li><b>For High Accuracy / Large ΔT (Sieder-Tate):</b> Includes a viscosity correction. <div class="formula">Nu = 0.027 ⋅ Re^0.8 ⋅ Pr^(1/3) ⋅ (μ_b / μ_s)^0.14</div></li>
                </ul>
            </div>
            <div class="node">
                <div class="node-header"><h3>The Impact of Rough Surfaces</h3></div>
                <p>In turbulent flow, surface roughness (ε) can significantly increase the friction factor (f) by disrupting the laminar sublayer.</p>
                <p class="rule">The <b class="key-concept">Moody Chart</b> or the implicit <b class="key-concept">Colebrook Equation</b> are the essential tools for calculating 'f' in rough pipes.</p>
                <div class="formula">1/√f = -2.0 ⋅ log( (ε/D)/3.7 + 2.51/(Re√f) )</div>
            </div>
            <div class="node">
                <div class="node-header"><h3>Non-Circular Tubes & Heat Enhancement</h3></div>
                <ul>
                    <li><b>Non-Circular Tubes:</b> Use the <b class="rule">hydraulic diameter (D<sub>h</sub>)</b> in Re and Nu calculations. Works very well for turbulent flow.</li>
                    <li><b>Heat Enhancement:</b> Intentionally roughening surfaces or adding inserts (e.g., twisted tapes) to increase turbulence and boost 'h'.</li>
                    <p class="insight">The Engineer's Trade-Off: Enhanced heat transfer is always accompanied by an increased pressure drop (ΔP).</p>
                </ul>
            </div>
        </div>
    </section>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const sections = document.querySelectorAll('.roadmap-section');

        sections.forEach(section => {
            const trigger = section.querySelector('.summary-view');

            trigger.addEventListener('click', () => {
                const isExpanded = section.classList.contains('expanded');
                
                // Optional: close other sections when one is opened
                // sections.forEach(s => { if (s !== section) s.classList.remove('expanded'); });
                
                section.classList.toggle('expanded');
                
                // Update ARIA attribute for accessibility
                const button = section.querySelector('.toggle-button');
                button.setAttribute('aria-expanded', !isExpanded);
            });
        });
    });
</script>

</body>
</html>
