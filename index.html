<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Definitive Workflow Dashboard: Internal Convection (Ch. 8)</title>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <!-- MathJax Integration for beautiful formulas -->
    <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\KATEX_INLINE_OPEN', '\KATEX_INLINE_CLOSE']]
          },
          svg: {
            fontCache: 'global'
          }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        :root {
            --bg-dark: #0d1117;
            --bg-section: #161b22;
            --border-color: #30363d;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-cyan: #39c5cf;
            --accent-magenta: #ff7b72;
            --accent-orange: #f0883e;
            --connector-color: #484f58;
            --font-main: 'Exo 2', sans-serif;
            --font-code: 'Share Tech Mono', monospace;
        }

        html { scroll-behavior: smooth; }
        body { font-family: var(--font-main); background-color: var(--bg-dark); color: var(--text-primary); line-height: 1.7; margin: 0; padding: 40px 20px; }
        .dashboard-container { max-width: 1200px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 50px; }
        header h1 { font-size: 3em; font-weight: 700; }
        header h1 span { background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        header p { font-size: 1.2em; color: var(--text-secondary); }

        /* --- Visual Workflow Diagram Styles --- */
        .workflow-map { text-align: center; margin-bottom: 60px; }
        .workflow-node { background: var(--bg-section); border: 1px solid var(--border-color); border-radius: 8px; padding: 15px 25px; display: inline-block; margin: 0 auto; cursor: pointer; transition: all 0.3s ease; position: relative; }
        .workflow-node:hover { transform: scale(1.05); border-color: var(--accent-blue); box-shadow: 0 0 20px rgba(88, 166, 255, 0.2); }
        .workflow-node h3 { margin: 0; font-size: 1.2em; color: var(--text-primary); }
        .workflow-node p { margin: 5px 0 0 0; font-size: 0.9em; color: var(--text-secondary); }
        .decision-node { border-style: dashed; border-color: var(--accent-orange); }
        .decision-node:hover { border-color: var(--accent-orange); box-shadow: 0 0 20px rgba(240, 136, 62, 0.3); }
        .decision-node h3 { color: var(--accent-orange); }
        .connector-arrow { font-size: 2em; color: var(--connector-color); margin: 15px 0; }
        .branch-container { display: flex; justify-content: center; gap: 40px; margin-top: 30px; position: relative; }
        .branch-container::before { content: ''; position: absolute; top: -20px; left: 50%; height: 20px; width: 2px; background: var(--connector-color); }
        .branch-container::after { content: ''; position: absolute; top: 0; left: 25%; width: 50%; height: 2px; background: var(--connector-color); }
        .branch { display: flex; flex-direction: column; align-items: center; position: relative; flex: 1; max-width: 300px; }
        .branch::before { content: ''; position: absolute; top: 0; left: 50%; height: 20px; width: 2px; background: var(--connector-color); }
        .branch .workflow-node { width: 100%; box-sizing: border-box; }

        /* --- Accordion Section Styles --- */
        .section-title-divider { text-align: center; font-size: 1.5em; color: var(--text-secondary); margin: 80px 0 30px 0; font-weight: 300; }
        .roadmap-section { background: var(--bg-section); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 20px; overflow: hidden; }
        .summary-view { padding: 25px 30px; display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 20px; cursor: pointer; }
        .summary-view h2 { margin: 0; font-size: 1.6em; font-weight: 500; }
        .summary-view p { margin: 5px 0 0 0; color: var(--text-secondary); }
        .detailed-view { max-height: 0; opacity: 0; overflow: hidden; transition: max-height 0.7s ease-in-out, opacity 0.5s ease-in-out, padding 0.7s ease-in-out; padding: 0 30px; }
        .roadmap-section.expanded .detailed-view { max-height: 3000px; opacity: 1; padding: 20px 30px 30px 30px; border-top: 1px solid var(--border-color); }
        
        /* Node styles inside detailed view */
        .detailed-view .node { background: rgba(0,0,0,0.2); border: 1px solid transparent; border-radius: 8px; margin-bottom: 20px; padding: 20px; }
        .detailed-view .node-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }
        .detailed-view .node-header h3 { font-size: 1.3em; margin: 0; }
        .detailed-view .formula { background-color: rgba(0, 0, 0, 0.4); padding: 10px; border-radius: 6px; color: var(--accent-cyan); border-left: 2px solid var(--accent-cyan); margin-top: 10px; }
        .detailed-view .insight { color: var(--text-secondary); font-style: italic; border-left: 2px solid var(--border-color); padding-left: 10px; margin-top: 10px; font-size: 0.9em; }
        .detailed-view .rule { color: var(--accent-orange); font-weight: 600; }
        .detailed-view .key-concept { color: var(--accent-blue); }

        @media (max-width: 768px) {
            .branch-container { flex-direction: column; gap: 20px; }
            .branch-container::after, .branch-container::before, .branch::before { display: none; }
        }
    </style>
</head>
<body>

<div class="dashboard-container">
    <header>
        <h1>Visual Workflow: <span>Internal Convection</span></h1>
        <p>A comprehensive, clickable map of Chapter 8. Click any node to jump to its complete, detailed analysis below.</p>
    </header>

    <!-- VISUAL WORKFLOW MAP -->
    <div class="workflow-map">
        <div class="workflow-node" data-target="sec-foundations">
            <h3>1. Foundations & Toolkit</h3>
            <p>Sec 8-1, 8-2</p>
        </div>
        <div class="connector-arrow">↓</div>
        <div class="workflow-node" data-target="sec-entrance">
            <h3>2. Flow Development & Thermal Models</h3>
            <p>Sec 8-3, 8-4</p>
        </div>
        <div class="connector-arrow">↓</div>
        <div class="workflow-node decision-node" data-target="sec-decision">
            <h3>3. CRITICAL DECISION: Flow Regime</h3>
            <p>Calculate Reynolds Number</p>
        </div>
        <div class="branch-container">
            <div class="branch">
                <div class="workflow-node" data-target="sec-laminar">
                    <h3>Laminar Analysis</h3>
                    <p>Sec 8-5 (Re < 2300)</p>
                </div>
            </div>
            <div class="branch">
                <div class="workflow-node" data-target="sec-turbulent">
                    <h3>Turbulent Analysis</h3>
                    <p>Sec 8-6+ (Re > 4000)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- DETAILED ACCORDION SECTIONS -->
    <div class="section-title-divider">Detailed Analysis Sections</div>
    
    <div id="accordion-container">
        <!-- Section 1: Foundations -->
        <section class="roadmap-section" id="sec-foundations">
            <div class="summary-view">
                <div>
                    <h2>1. Foundations: Core Concepts & Toolkit (Sec 8-1, 8-2)</h2>
                    <p>Essential principles, definitions, and tools for all internal flow problems.</p>
                </div>
            </div>
            <div class="detailed-view">
                <div class="node">
                    <div class="node-header"><h3>Why Pipes are Round</h3></div>
                    <ul>
                        <li><b class="key-concept">Strength:</b> A circular shape perfectly distributes internal pressure stress, making it the strongest and safest option for containing pressurized fluids. (Analogy: Soda Can)</li>
                        <li><b class="key-concept">Efficiency:</b> For a given area, a circle has the smallest perimeter. Less perimeter means less wall friction, less pressure drop, and lower pumping energy costs.</li>
                    </ul>
                </div>
                <div class="node">
                    <div class="node-header"><h3>Fundamental Flow Concepts</h3></div>
                    <ul>
                        <li><b>No-Slip Condition:</b> Fluid velocity is precisely zero at the pipe wall. Velocity is maximum at the centerline.</li>
                        <li><b>Average Velocity ($V_{avg}$):</b> The single, practical velocity used in calculations that represents the entire flow, as if it were moving at a uniform speed.
                            <div class="formula">$\dot{m} = \rho V_{avg} A_c$</div>
                        </li>
                        <li><b>Mean Temperature ($T_m$):</b> The "energy-weighted" average temperature representing the total thermal energy of the fluid.
                             <div class="formula">$\dot{E}_{fluid} = \dot{m} c_p T_m$</div>
                        </li>
                        <li><b class="rule">Key Difference:</b> $V_{avg}$ is constant for incompressible flow, but $T_m$ changes as heat is transferred.</li>
                    </ul>
                </div>
                <div class="node">
                    <div class="node-header"><h3>Hydraulic Diameter ($D_h$)</h3></div>
                    <p>An "effective" diameter that allows the use of standard circular pipe equations for non-circular conduits (ducts, annuli).</p>
                    <div class="formula">$$ D_h = \frac{4 A_c}{p} $$
                    Where $A_c$ is the cross-sectional area and $p$ is the wetted perimeter.
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Entrance Region -->
        <section class="roadmap-section" id="sec-entrance">
            <div class="summary-view">
                 <div>
                    <h2>2. Flow Development & Thermal Models (Sec 8-3, 8-4)</h2>
                    <p>How fluid behavior evolves from the inlet and how to model heat transfer.</p>
                </div>
            </div>
            <div class="detailed-view">
                <div class="node">
                    <div class="node-header"><h3>The Entrance Region (Sec 8-3)</h3></div>
                    <p>The region from the inlet where velocity and thermal boundary layers are developing. The flow is not yet stable.</p>
                    <p class="rule">Key Consequence: The friction factor ($f$) and heat transfer coefficient ($h$) are HIGHEST at the pipe inlet ($x=0$) and decrease to constant values in the fully developed region.</p>
                    <p class="insight">This "entrance effect" is critical for short tubes (e.g., in compact heat exchangers), where the higher average 'h' allows for a smaller, cheaper design.</p>
                    <div class="formula">
                        <b>Turbulent Flow:</b> $L_{h, turbulent} \approx L_{t, turbulent} \approx 10D$ <br>
                        <b>Laminar Flow:</b> $L_{h, laminar} \approx 0.05 \cdot Re \cdot D$ <br>
                        <b>Laminar Flow:</b> $L_{t, laminar} \approx 0.05 \cdot Re \cdot Pr \cdot D = Pr \cdot L_{h, laminar}$
                    </div>
                </div>
                <div class="node">
                    <div class="node-header"><h3>General Thermal Analysis Models (Sec 8-4)</h3></div>
                    <ul>
                        <li><b>Case 1: Constant Heat Flux ($q''_s$):</b> Fluid temperature $T_m$ increases linearly. Common for electric heaters.
                            <div class="formula">$\dot{Q} = q''_s A_s \quad \rightarrow \quad T_e = T_i + \frac{q''_s A_s}{\dot{m} c_p}$</div>
                        </li>
                        <li><b>Case 2: Constant Surface Temp ($T_s$):</b> Fluid temperature $T_m$ increases exponentially. Common for phase change (e.g., steam condensers). Requires the use of the <b class="key-concept">Log Mean Temperature Difference (LMTD)</b>.
                            <div class="formula">$\dot{Q} = h A_s \Delta T_{lm} \quad \text{where} \quad \Delta T_{lm} = \frac{\Delta T_e - \Delta T_i}{\ln(\Delta T_e / \Delta T_i)}$</div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 3: The Critical Decision -->
        <section class="roadmap-section" id="sec-decision">
            <div class="summary-view">
                <div>
                    <h2 style="color: var(--accent-orange)">3. CRITICAL DECISION: Determine The Flow Regime</h2>
                    <p>The Reynolds Number dictates the entire analysis path.</p>
                </div>
            </div>
            <div class="detailed-view">
                 <div class="node">
                    <div class="node-header"><h3>The Reynolds Number (Re)</h3></div>
                    <p>The dimensionless ratio of inertial forces to viscous forces. This is the engineer's "crystal ball" for predicting fluid behavior.</p>
                    <div class="formula">$$ Re = \frac{\text{Inertial Forces}}{\text{Viscous Forces}} = \frac{\rho V_{avg} D}{\mu} $$</div>
                    <ul>
                        <li>$Re < 2300$: Path -> <b class="key-concept">Laminar Analysis</b> (smooth, predictable)</li>
                        <li>$2300 < Re < 4000$: Path -> <b class="key-concept">Transitional</b> (unstable, avoid if possible by interpolation)</li>
                        <li>$Re > 4000$: Path -> <b class="key-concept">Turbulent Analysis</b> (chaotic, high mixing)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 4: Laminar Flow -->
        <section class="roadmap-section" id="sec-laminar">
            <div class="summary-view">
                 <div>
                    <h2>Laminar Flow Analysis (Sec 8-5, Re < 2300)</h2>
                    <p>Analysis based on analytical solutions for orderly flow.</p>
                </div>
            </div>
            <div class="detailed-view">
                <div class="node">
                    <div class="node-header"><h3>Pressure Drop</h3></div>
                    <p>Results from a perfect balance of pressure and viscous forces, leading to a parabolic velocity profile where $u_{max} = 2 V_{avg}$.</p>
                    <div class="formula">$$ f = \frac{64}{Re} $$
                    $$ \Delta P_L = f \frac{L}{D} \frac{\rho V_{avg}^2}{2} = \frac{32 \mu L V_{avg}}{D^2} $$</div>
                    <p class="rule">Design Implication: The $D^4$ relationship ($\Delta P_L \propto 1/D^4$) means a small increase in pipe diameter causes a massive drop in required pumping power.</p>
                </div>
                <div class="node">
                    <div class="node-header"><h3>Heat Transfer</h3></div>
                    <p>For <b class="key-concept">fully developed flow</b>, Nu is a constant, independent of Re and Pr.</p>
                    <div class="formula">$$ \text{Constant } T_s: Nu = 3.66 $$
                                      $$ \text{Constant } q''_s: Nu = 4.36 $$</div>
                    <p>For <b class="key-concept">developing flow</b>, Nu is higher. Use correlations like Sieder-Tate, which includes the Graetz Number (Gz) and a viscosity correction.</p>
                    <div class="formula">$$ Nu = 1.86 \left( \frac{Re \cdot Pr \cdot D}{L} \right)^{1/3} \left( \frac{\mu_b}{\mu_s} \right)^{0.14} $$</div>
                </div>
            </div>
        </section>

        <!-- Section 5: Turbulent Flow -->
        <section class="roadmap-section" id="sec-turbulent">
            <div class="summary-view">
                 <div>
                    <h2>Turbulent Flow Analysis (Sec 8-6+, Re > 4000)</h2>
                    <p>Analysis based on empirical correlations for chaotic, well-mixed flow.</p>
                </div>
            </div>
            <div class="detailed-view">
                 <div class="node">
                    <div class="node-header"><h3>Pressure Drop</h3></div>
                    <p>Friction is now a strong function of surface roughness ($\epsilon$).</p>
                    <p class="rule">The <b class="key-concept">Moody Chart</b> or the implicit <b class="key-concept">Colebrook Equation</b> are the essential tools for finding $f$.</p>
                    <div class="formula">$$ \frac{1}{\sqrt{f}} = -2.0 \log \left( \frac{\epsilon/D}{3.7} + \frac{2.51}{Re\sqrt{f}} \right) $$</div>
                </div>
                <div class="node">
                    <div class="node-header"><h3>Heat Transfer</h3></div>
                    <p>Chaotic eddies dramatically enhance heat transfer. Analysis relies on empirical correlations.</p>
                    <ul>
                        <li><b>For Quick Analysis (Dittus-Boelter):</b>
                            <div class="formula">$$ Nu = 0.023 Re^{0.8} Pr^n $$
                            $n=0.4$ for heating, $n=0.3$ for cooling.</div></li>
                        <li><b>For High Accuracy (Gnielinski):</b>
                            <div class="formula">$$ Nu = \frac{(f/8)(Re-1000)Pr}{1 + 12.7(f/8)^{0.5}(Pr^{2/3}-1)} $$</div></li>
                    </ul>
                </div>
                <div class="node">
                    <div class="node-header"><h3>Advanced Topics</h3></div>
                    <ul>
                        <li><b>Non-Circular Tubes & Annuli:</b> Use the <b class="rule">hydraulic diameter ($D_h$)</b> in all Re, $f$, and Nu calculations.</li>
                        <li><b>Heat Enhancement:</b> Intentionally using fins, inserts, or surface roughening to increase turbulence and boost $h$.</li>
                    </ul>
                    <p class="insight">The Engineer's Trade-Off: Enhanced heat transfer is ALWAYS accompanied by an increased pressure drop ($\Delta P_L$).</p>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const accordionContainer = document.getElementById('accordion-container');
        const workflowNodes = document.querySelectorAll('.workflow-node');

        function expandSection(section) {
            if (!section) return;
            accordionContainer.querySelectorAll('.roadmap-section').forEach(s => {
                if (s !== section) s.classList.remove('expanded');
            });
            section.classList.add('expanded');
        }

        workflowNodes.forEach(node => {
            node.addEventListener('click', () => {
                const targetId = node.getAttribute('data-target');
                const targetSection = document.getElementById(targetId);
                expandSection(targetSection);
                targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });

        accordionContainer.querySelectorAll('.summary-view').forEach(summary => {
            summary.addEventListener('click', () => {
                const section = summary.closest('.roadmap-section');
                section.classList.toggle('expanded');
            });
        });
    });
</script>

</body>
</html>
